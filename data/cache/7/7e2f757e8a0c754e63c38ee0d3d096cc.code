<span class="co1">//taking the command we've been using</span>
<span class="re0">$cmd</span> <span class="sy0">=</span> <span class="st_h">'tracert -w 10 accettura.com'</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">if</span><span class="br0">&#40;</span><a href="http://www.php.net/stripos"><span class="kw3">stripos</span></a><span class="br0">&#40;</span><a href="http://www.php.net/php_uname"><span class="kw3">php_uname</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="st_h">'windows'</span><span class="br0">&#41;</span> <span class="sy0">!===</span> <span class="kw4">false</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="co1">//popen and pclose are simpler versions to proc_open and proc_close</span>
    <span class="co1">//the trick is to use &quot;start /B&quot; start the process in background mode</span>
    <a href="http://www.php.net/pclose"><span class="kw3">pclose</span></a><span class="br0">&#40;</span><a href="http://www.php.net/popen"><span class="kw3">popen</span></a><span class="br0">&#40;</span><span class="st0">&quot;start /B &quot;</span><span class="sy0">.</span> <span class="re0">$cmd</span> <span class="sy0">.</span> <span class="st_h">' &gt; log.txt'</span><span class="sy0">,</span> <span class="st0">&quot;r&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">//the &gt; log.txt is optional, it's just so we can see if it can work, this is based on STDOUT redirection, this will be stored in the cwd of the php script, you can also use an absolute path if you wish</span>
    <span class="kw1">echo</span> <span class="st_h">'If you see me pop up immediately this means it worked asynchronously!'</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="kw1">else</span><span class="br0">&#123;</span>
    <span class="co1">//on linux systems its far easier</span>
    <span class="co1">//redirect STDOUT to /dev/null (to be discarded) or to a log file</span>
    <span class="co1">//the &amp; sign indicates that the process is in the background</span>
    <span class="co1">//we're also redirecting STDERR into dev/null too</span>
    <a href="http://www.php.net/exec"><span class="kw3">exec</span></a><span class="br0">&#40;</span><span class="re0">$cmd</span> <span class="sy0">.</span> <span class="st0">&quot; &gt;/dev/null 2&gt;/dev/null &amp;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>